<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Receptionist Dashboard - Daily Operations</title>
  <!-- Load Tailwind CSS for styling -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }

    /* Hide non-active panels */
    .tab-panel {
      display: none;
    }

    .tab-panel.active {
      display: block;
    }

    /* Style for live room view cards */
    .room-status-card {
      transition: transform 0.2s;
      cursor: pointer;
    }

    .room-status-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
    }

    /* Status Colors must match the data inserted in MySQL */
    .status-Available {
      background-color: #d1fae5;
      border-color: #10b981;
      color: #065f46;
    }

    /* Green */
    .status-Occupied {
      background-color: #fee2e2;
      border-color: #ef4444;
      color: #991b1b;
    }

    /* Red */
    .status-Needs-Cleaning {
      background-color: #fef3c7;
      border-color: #f59e0b;
      color: #92400e;
    }

    /* Yellow */
    .status-Maintenance {
      background-color: #e0f2f1;
      border-color: #0d9488;
      color: #0f766e;
    }

    /* Teal */
  </style>
</head>

<body class="bg-gray-100 min-h-screen">

  <!-- Header and Navigation Tabs -->
  <header class="bg-white shadow-md p-4 sticky top-0 z-10">
    <div class="flex justify-between items-center max-w-7xl mx-auto">
      <h1 class="text-3xl font-bold text-green-700">Reception Operations</h1>
      <div class="flex space-x-4">
        <!-- Navigation Buttons - Data-panel attributes match content IDs -->
        <button
          class="tab-button py-2 px-4 rounded-lg font-medium transition duration-150 bg-green-100 text-green-700 active-tab-btn"
          data-panel="room-view">Live Room Status</button>
        <button
          class="tab-button py-2 px-4 rounded-lg font-medium transition duration-150 text-gray-600 hover:bg-gray-200"
          data-panel="guest-booking">Guest & Booking Management</button>
        <button
          class="tab-button py-2 px-4 rounded-lg font-medium transition duration-150 text-gray-600 hover:bg-gray-200"
          data-panel="billing-checkout">Check-out & Billing</button>
        <a href="index.html"
          class="py-2 px-4 rounded-lg bg-red-500 text-white hover:bg-red-600 transition duration-150">Log Out</a>
      </div>
    </div>
  </header>

  <!-- Main Content Panels -->
  <main class="max-w-7xl mx-auto p-8">

    <!-- Panel 1: Live Room Status View (Functional READ) -->
    <div id="room-view" class="tab-panel active">
      <h2 class="text-3xl font-semibold text-gray-800 mb-6">Live Room Status View (Current Availability)</h2>
      <div id="room-grid" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6 gap-4">
        <p id="room-view-message" class="text-gray-500 col-span-full">Loading room status...</p>
      </div>
    </div>

    <!-- Panel 2: Guest & Booking Management (COMBINED FUNCTIONALITY) -->
    <div id="guest-booking" class="tab-panel">
      <h2 class="text-3xl font-semibold text-gray-800 mb-6">Guest & Booking Management</h2>

      <!-- Section A: Guest Registration -->
      <div class="bg-white p-6 rounded-xl shadow-lg mb-8">
        <h3 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2">Step 1: Register New Guest (or Use Existing)
        </h3>
        <form id="register-guest-form" class="space-y-4 mb-4">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <input type="text" id="guest-first-name" placeholder="First Name"
              class="w-full border p-3 rounded-lg focus:ring-green-500 focus:border-green-500" required>
            <input type="text" id="guest-last-name" placeholder="Last Name"
              class="w-full border p-3 rounded-lg focus:ring-green-500 focus:border-green-500" required>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <input type="email" id="guest-email" placeholder="Email"
              class="w-full border p-3 rounded-lg focus:ring-green-500 focus:border-green-500" required>
            <input type="text" id="guest-phone" placeholder="Phone Number (Optional)"
              class="w-full border p-3 rounded-lg focus:ring-green-500 focus:border-green-500">
          </div>
          <input type="text" id="guest-id-proof" placeholder="ID Proof (e.g., Passport No.)"
            class="w-full border p-3 rounded-lg focus:ring-green-500 focus:border-green-500" required>
          <input type="text" id="guest-address" placeholder="Address (Optional)"
            class="w-full border p-3 rounded-lg focus:ring-green-500 focus:border-green-500">

          <button type="submit"
            class="py-3 px-6 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition duration-150">Register
            New Guest</button>
          <p id="guest-register-message" class="mt-4 text-sm hidden"></p>
        </form>
      </div>

      <!-- Section B: Create Reservation -->
      <div class="bg-white p-6 rounded-xl shadow-lg mb-8">
        <h3 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2">Step 2: Create Reservation</h3>
        <form id="create-reservation-form" class="space-y-4 mb-4">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Guest Selection -->
            <div>
              <label for="res-guest-id" class="block text-sm font-medium text-gray-700">Guest (Select from existing
                list)</label>
              <select id="res-guest-id" class="w-full border p-3 rounded-lg focus:ring-blue-500 focus:border-blue-500"
                required>
                <option value="">Loading Guests...</option>
              </select>
            </div>
            <!-- Room Selection -->
            <div>
              <label for="res-room-number" class="block text-sm font-medium text-gray-700">Available Room</label>
              <select id="res-room-number"
                class="w-full border p-3 rounded-lg focus:ring-blue-500 focus:border-blue-500" required>
                <option value="">Loading Rooms...</option>
              </select>
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label for="res-check-in" class="block text-sm font-medium text-gray-700">Check-In Date</label>
              <input type="date" id="res-check-in"
                class="w-full border p-3 rounded-lg focus:ring-blue-500 focus:border-blue-500" required>
            </div>
            <div>
              <label for="res-check-out" class="block text-sm font-medium text-gray-700">Check-Out Date</label>
              <input type="date" id="res-check-out"
                class="w-full border p-3 rounded-lg focus:ring-blue-500 focus:border-blue-500" required>
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <input type="number" id="res-adults" placeholder="Adults (e.g., 2)"
              class="w-full border p-3 rounded-lg focus:ring-blue-500 focus:border-blue-500" value="1" min="1" required>
            <input type="number" id="res-children" placeholder="Children (e.g., 0)"
              class="w-full border p-3 rounded-lg focus:ring-blue-500 focus:border-blue-500" value="0" min="0">
            <input type="number" step="0.01" id="res-price-per-night" placeholder="Price Per Night"
              class="w-full border p-3 rounded-lg focus:ring-blue-500 focus:border-blue-500" required>
          </div>

          <button type="submit"
            class="py-3 px-6 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition duration-150">Create
            Reservation</button>
          <p id="reservation-message" class="mt-4 text-sm hidden"></p>
        </form>
      </div>

      <!-- Section C: Guest Lookup Table -->
      <div class="bg-white p-6 rounded-xl shadow-lg mt-8">
        <h3 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2">Guest Lookup & History</h3>
        <p id="guest-lookup-message" class="mt-4 text-sm hidden mb-4"></p>

        <div class="overflow-x-auto">
          <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
              <tr>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Email</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID Proof</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
              </tr>
            </thead>
            <tbody id="guest-table-body" class="bg-white divide-y divide-gray-200">
              <!-- Data loaded by JS -->
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Panel 3: Check-out & Billing Workflow (Functional READ & PUT) -->
    <div id="billing-checkout" class="tab-panel">
      <h2 class="text-3xl font-semibold text-gray-800 mb-6">Check-out & Billing (Occupied Rooms)</h2>
      <div class="bg-white p-6 rounded-xl shadow-lg">
        <h3 class="text-xl font-semibold text-gray-700 mb-4">Guests Checked In (Occupied Rooms)</h3>
        <p id="occupied-rooms-message" class="mt-4 text-sm hidden mb-4"></p>

        <div class="overflow-x-auto">
          <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
              <tr>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Room #</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
              </tr>
            </thead>
            <tbody id="occupied-rooms-table-body" class="bg-white divide-y divide-gray-200">
              <!-- Data loaded by JS -->
            </tbody>
          </table>
        </div>
      </div>
    </div>

  </main>

  <script>
    const API_BASE_URL = 'http://127.0.0.1:5000/api';

    // DOM Elements
    const registerGuestForm = document.getElementById('register-guest-form');
    const guestRegisterMessage = document.getElementById('guest-register-message');
    const guestLookupMessage = document.getElementById('guest-lookup-message');
    const guestTableBody = document.getElementById('guest-table-body');
    const roomGrid = document.getElementById('room-grid');
    const roomViewMessage = document.getElementById('room-view-message');
    const createReservationForm = document.getElementById('create-reservation-form');
    const reservationMessage = document.getElementById('reservation-message');
    const resGuestIdSelect = document.getElementById('res-guest-id');
    const resRoomNumberSelect = document.getElementById('res-room-number');
    const occupiedRoomsTableBody = document.getElementById('occupied-rooms-table-body');
    const occupiedRoomsMessage = document.getElementById('occupied-rooms-message');

    // Store active reservations (for checkout logic later)
    let activeReservations = [];

    // --- Utility Functions ---
    function displayMessage(el, text, isError = false) {
      el.textContent = text;
      el.classList.remove('hidden', 'text-green-600', 'text-red-600', 'text-gray-500', 'text-blue-600');
      el.classList.add(isError ? 'text-red-600' : 'text-green-600');
      el.classList.remove('opacity-0');
      el.classList.add('opacity-100');
    }

    // --- ROOM STATUS LOGIC (Panel 1) ---

    function getRoomCardClass(status) {
      const normalizedStatus = status.replace(/\s/g, '-');
      return `status-${normalizedStatus}`;
    }

    async function fetchRooms() {
      roomGrid.innerHTML = '';
      displayMessage(roomViewMessage, 'Fetching live room status...', false);
      roomViewMessage.classList.remove('hidden');

      try {
        const response = await fetch(`${API_BASE_URL}/rooms`);
        const data = await response.json();

        if (response.ok) {
          roomViewMessage.classList.add('hidden');
          if (data.length === 0) {
            displayMessage(roomViewMessage, 'No rooms registered in the system.', false);
            roomViewMessage.classList.remove('hidden');
            return;
          }

          data.forEach(room => {
            const cardClass = getRoomCardClass(room.currentStatus);
            const card = document.createElement('div');
            card.className = `room-status-card p-4 rounded-xl shadow-md border-l-4 font-semibold ${cardClass}`;
            card.innerHTML = `
                            <p class="text-lg font-extrabold">${room.roomNumber}</p>
                            <p class="text-xs font-normal opacity-75">${room.currentStatus}</p>
                            <p class="text-xs mt-1">Floor: ${room.floorNumber}</p>
                        `;
            roomGrid.appendChild(card);
          });
        } else {
          displayMessage(roomViewMessage, `Error fetching rooms: ${data.error || 'Unknown API Error'}`, true);
        }
      } catch (error) {
        displayMessage(roomViewMessage, 'Network Error: Could not connect to the Flask server.', true);
        console.error('Fetch rooms failed:', error);
      }
    }

    // --- GUEST MANAGEMENT LOGIC (Panel 2) ---

    async function fetchGuests() {
      guestTableBody.innerHTML = '<tr><td colspan="5" class="px-6 py-4 text-center text-gray-400">Fetching guest list...</td></tr>';
      displayMessage(guestLookupMessage, '', false);

      try {
        const response = await fetch(`${API_BASE_URL}/guests`);
        const data = await response.json();

        if (response.ok) {
          renderGuestTable(data);
          return data; // Return data for reservation form
        } else {
          renderGuestTable([]);
          displayMessage(guestLookupMessage, `Error fetching guests: ${data.error || 'Unknown API Error'}`, true);
          return [];
        }
      } catch (error) {
        renderGuestTable([]);
        displayMessage('guest-lookup-message', 'Network Error: Could not connect to backend to fetch guests.', true); // Corrected ID usage
        console.error('Fetch guests failed:', error);
        return [];
      }
    }

    function renderGuestTable(guestData) {
      if (guestData.length === 0) {
        guestTableBody.innerHTML = '<tr><td colspan="5" class="px-6 py-4 text-center text-gray-400">No guests found. Please register a new guest above.</td></tr>';
        return;
      }

      guestTableBody.innerHTML = guestData.map(guest => `
                <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${guest.guestID}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">${guest.firstName} ${guest.lastName}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${guest.email}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-indigo-600">${guest.idProof}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <!-- Actions buttons are placeholders until PUT/DELETE logic is built -->
                        <button class="text-green-600 hover:text-green-900 mr-2">Edit</button>
                        <button class="text-red-600 hover:text-red-900">Delete</button>
                    </td>
                </tr>
            `).join('');
    }

    registerGuestForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      displayMessage(guestRegisterMessage, 'Processing registration...', false);

      const guestData = {
        firstName: document.getElementById('guest-first-name').value,
        lastName: document.getElementById('guest-last-name').value,
        email: document.getElementById('guest-email').value,
        phoneNumber: document.getElementById('guest-phone').value || null,
        idProof: document.getElementById('guest-id-proof').value,
        address: document.getElementById('guest-address').value || null
      };

      try {
        const response = await fetch(`${API_BASE_URL}/guests`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(guestData)
        });

        const result = await response.json();

        if (response.ok) {
          displayMessage(guestRegisterMessage, `Success! Guest registered with ID: ${result.guestID}.`, false);
          registerGuestForm.reset();
          fetchGuests(); // Refresh the lookup table
          // Re-fetch all dropdown data since a new guest was added
          populateReservationForm();
        } else {
          displayMessage(guestRegisterMessage, `Registration failed: ${result.error || 'Check required fields.'}`, true);
        }
      } catch (error) {
        displayMessage(guestRegisterMessage, 'Network Error: Could not connect to the backend server.', true);
        console.error('Registration failed:', error);
      }
    });

    // --- RESERVATION LOGIC (Merged into Panel 2) ---

    async function populateReservationForm() {
      resGuestIdSelect.innerHTML = '<option value="">Loading Guests...</option>';
      resRoomNumberSelect.innerHTML = '<option value="">Loading Rooms...</option>';

      // 1. Fetch all Guests
      const guestResponse = await fetch(`${API_BASE_URL}/guests`);
      const guests = guestResponse.ok ? await guestResponse.json() : [];

      resGuestIdSelect.innerHTML = '<option value="" disabled selected>Select Guest (ID - Name)</option>';
      if (guests.length > 0) {
        guests.forEach(guest => {
          const option = document.createElement('option');
          option.value = guest.guestID;
          option.textContent = `${guest.guestID} - ${guest.firstName} ${guest.lastName}`;
          resGuestIdSelect.appendChild(option);
        });
      } else {
        resGuestIdSelect.innerHTML = '<option value="" disabled selected>No Guests Found. Register First.</option>';
      }

      // 2. Fetch Available Rooms
      const roomResponse = await fetch(`${API_BASE_URL}/rooms`);
      const allRooms = roomResponse.ok ? await roomResponse.json() : [];
      const availableRooms = allRooms.filter(room => room.currentStatus === 'Available');

      resRoomNumberSelect.innerHTML = '<option value="" disabled selected>Select Available Room</option>';
      if (availableRooms.length > 0) {
        availableRooms.forEach(room => {
          const option = document.createElement('option');
          option.value = room.roomNumber;
          option.textContent = `${room.roomNumber} (Floor ${room.floorNumber})`;
          resRoomNumberSelect.appendChild(option);
        });
      } else {
        resRoomNumberSelect.innerHTML = '<option value="" disabled selected>No Rooms Available</option>';
      }
    }

    async function createReservation(reservationData) {
      try {
        const response = await fetch(`${API_BASE_URL}/reservations`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(reservationData)
        });

        const result = await response.json();

        if (response.ok) {
          // Update Room Status to Occupied (Check-in happens immediately upon booking)
          await updateRoomStatus(reservationData.roomNumber, 'Occupied');

          displayMessage(reservationMessage,
            `Success! Reservation created with ID: ${result.reservationID}. Room ${reservationData.roomNumber} is now OCCUPIED.`,
            false);
          createReservationForm.reset();

          // Refresh all affected modules
          fetchRooms();
          fetchOccupiedRooms();
          populateReservationForm();

        } else {
          displayMessage(reservationMessage, `Reservation failed: ${result.error || 'Check server logs.'}`, true);
        }
      } catch (error) {
        displayMessage(reservationMessage, 'Network Error: Could not connect to the backend server.', true);
        console.error('Reservation creation failed:', error);
      }
    }

    async function updateRoomStatus(roomNumber, newStatus) {
      const updateData = { currentStatus: newStatus };
      try {
        const response = await fetch(`${API_BASE_URL}/rooms/${roomNumber}`, {
          method: 'PUT',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(updateData)
        });
        return response.ok;
      } catch (error) {
        console.error(`Failed to update room status for ${roomNumber}:`, error);
        return false;
      }
    }

    createReservationForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      displayMessage(reservationMessage, 'Processing reservation...', false);

      const today = new Date().toISOString().split('T')[0];

      const reservationData = {
        guestID: parseInt(resGuestIdSelect.value),
        roomNumber: parseInt(resRoomNumberSelect.value),
        checkInDate: document.getElementById('res-check-in').value,
        checkOutDate: document.getElementById('res-check-out').value,
        bookingDate: today,
        numberOfAdults: parseInt(document.getElementById('res-adults').value),
        numberOfChildren: parseInt(document.getElementById('res-children').value),
        reservationStatus: 'Checked-in', // Assuming immediate check-in for simplification
        pricePerNight: parseFloat(document.getElementById('res-price-per-night').value)
      };

      await createReservation(reservationData);
    });

    // --- CHECK-OUT LOGIC (Panel 3) ---

    async function fetchOccupiedRooms() {
      occupiedRoomsTableBody.innerHTML = '<tr><td colspan="3" class="px-6 py-4 text-center text-gray-400">Loading occupied rooms...</td></tr>';
      displayMessage(occupiedRoomsMessage, '', false);

      try {
        const response = await fetch(`${API_BASE_URL}/rooms`);
        const allRooms = response.ok ? await response.json() : [];

        // Filter rooms that are currently occupied
        const occupiedRooms = allRooms.filter(room => room.currentStatus === 'Occupied');

        if (occupiedRooms.length === 0) {
          occupiedRoomsTableBody.innerHTML = '<tr><td colspan="3" class="px-6 py-4 text-center text-gray-400">No rooms currently occupied.</td></tr>';
          return;
        }

        occupiedRoomsTableBody.innerHTML = occupiedRooms.map(room => `
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-red-600">${room.roomNumber}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">${room.currentStatus}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                            <button onclick="startCheckout(${room.roomNumber})" class="py-1 px-3 bg-yellow-500 text-white rounded-lg text-xs hover:bg-yellow-600 transition duration-150">Start Checkout</button>
                        </td>
                    </tr>
                `).join('');

      } catch (error) {
        occupiedRoomsTableBody.innerHTML = '<tr><td colspan="3" class="px-6 py-4 text-center text-red-600">Error loading data.</td></tr>';
        console.error('Fetch occupied rooms failed:', error);
      }
    }

    async function startCheckout(roomNumber) {
      // Note: document.execCommand('copy') is generally preferred over alert/confirm
      // We use confirm here for simplicity as a temporary measure.
      if (!confirm(`Are you sure you want to CHECK OUT guest from Room ${roomNumber}? This will mark the room for cleaning.`)) {
        return;
      }

      // 1. Mark Room for Cleaning (Simulated checkout process)
      const success = await updateRoomStatus(roomNumber, 'Needs Cleaning');

      if (success) {
        // 2. Fetch Reservations to find the one associated with this room (Future feature: Update RESERVATION status to 'Completed')

        // 3. Display success message and refresh tables
        displayMessage(occupiedRoomsMessage, `Checkout initiated for Room ${roomNumber}. Room status updated to 'Needs Cleaning'.`, false);

        fetchRooms();
        fetchOccupiedRooms();
        populateReservationForm();
      } else {
        displayMessage(occupiedRoomsMessage, `Failed to update room status for checkout.`, true);
      }
    }

    // --- General Tab Switching & Initialization Logic ---
    document.addEventListener('DOMContentLoaded', () => {
      const tabButtons = document.querySelectorAll('.tab-button');
      const tabPanels = document.querySelectorAll('.tab-panel');

      function switchTab(panelId) {
        tabPanels.forEach(panel => panel.classList.remove('active'));
        tabButtons.forEach(button => {
          button.classList.remove('active-tab-btn', 'bg-green-100', 'text-green-700');
          button.classList.add('text-gray-600', 'hover:bg-gray-200');
        });

        document.getElementById(panelId).classList.add('active');
        const activeButton = document.querySelector(`.tab-button[data-panel="${panelId}"]`);
        activeButton.classList.remove('text-gray-600', 'hover:bg-gray-200');
        activeButton.classList.add('active-tab-btn', 'bg-green-100', 'text-green-700');

        // Load data specific to the tab when activated
        if (panelId === 'guest-booking') {
          fetchGuests();
          populateReservationForm();
        } else if (panelId === 'room-view') {
          fetchRooms();
        } else if (panelId === 'billing-checkout') {
          fetchOccupiedRooms();
        }
      }

      // Initial setup: Load the Room Status tab first
      switchTab('room-view');

      tabButtons.forEach(button => {
        button.addEventListener('click', () => {
          const panelId = button.getAttribute('data-panel');
          switchTab(panelId);
        });
      });
    });
  </script>
</body>

</html>